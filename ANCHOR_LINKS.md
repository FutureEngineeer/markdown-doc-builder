# Якорные ссылки для заголовков

## Описание

Каждый заголовок на сайте теперь имеет якорную ссылку, которая позволяет:
- Создавать прямые ссылки на конкретные разделы документации
- Делиться ссылками на определенные части страницы
- Улучшить навигацию по документации

## Как это работает

### Визуальное отображение

При наведении курсора на любой заголовок (H1-H6) справа от него появляется символ `#`. Этот символ:
- Скрыт по умолчанию (opacity: 0)
- Появляется при наведении курсора на заголовок
- Имеет цвет акцента сайта (зеленый)
- Меняет цвет при наведении

### Функциональность

При клике на якорную ссылку:
1. **Копирование в буфер обмена** - полная URL ссылка копируется автоматически
2. **Обновление URL** - адресная строка браузера обновляется без перезагрузки страницы
3. **Плавная прокрутка** - страница плавно прокручивается к выбранному заголовку
4. **Визуальное подтверждение** - символ `#` меняется на `✓` на 1.5 секунды

### Поддержка якорей в URL

Если пользователь открывает страницу с якорем в URL (например, `page.html#section`), страница автоматически прокручивается к соответствующему разделу.

## Технические детали

### Генерация ID

Для каждого заголовка автоматически генерируется уникальный ID на основе текста заголовка:
- Текст преобразуется в нижний регистр
- Пробелы заменяются на дефисы
- Специальные символы удаляются
- Кириллица транслитерируется

Пример:
- "Быстрый старт" → `id="быстрый-старт"`
- "API Reference" → `id="api-reference"`

### HTML структура

```html
<h2 id="section-id" class="section-title heading-with-anchor">
  Заголовок раздела
  <a href="#section-id" class="anchor-link" aria-label="Ссылка на раздел" title="Скопировать ссылку">#</a>
</h2>
```

### CSS стили

```css
.heading-with-anchor {
    position: relative;
}

.anchor-link {
    opacity: 0;
    margin-left: 0.5rem;
    color: var(--accent);
    transition: opacity 0.3s ease;
}

.heading-with-anchor:hover .anchor-link {
    opacity: 1;
}
```

### JavaScript обработка

Функциональность реализована в `assets/scripts/core.js`:
- Обработчик клика на `.anchor-link`
- Копирование в буфер обмена через Clipboard API
- Обновление истории браузера через History API
- Плавная прокрутка через `scrollIntoView()`

## Доступность

Якорные ссылки полностью доступны:
- `aria-label="Ссылка на раздел"` - описание для скринридеров
- `title="Скопировать ссылку"` - подсказка при наведении
- Поддержка фокуса клавиатуры с видимым outline
- Семантически корректная структура HTML

## Тестирование

Для тестирования функциональности откройте `test-anchors.html` в браузере:
1. Наведите курсор на любой заголовок
2. Кликните на появившийся символ `#`
3. Проверьте, что ссылка скопирована (вставьте в новую вкладку)
4. Убедитесь, что страница прокрутилась к заголовку

## Совместимость

- ✅ Все современные браузеры (Chrome, Firefox, Safari, Edge)
- ✅ Мобильные браузеры (iOS Safari, Chrome Mobile)
- ✅ Работает с кириллическими заголовками
- ✅ Совместимо с существующей навигацией сайта

## Примеры использования

### Поделиться ссылкой на раздел
```
https://example.com/docs/guide.html#installation
```

### Создать оглавление
```markdown
- [Установка](#installation)
- [Настройка](#configuration)
- [Использование](#usage)
```

### Ссылка из другой страницы
```html
<a href="guide.html#troubleshooting">Решение проблем</a>
```
