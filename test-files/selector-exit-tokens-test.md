# Тест токенов выхода из селектора

## Случай 1: Выход по горизонтальной линии

:::selector{type="tabs" name="test1"}
### Tab 1
Контент первой вкладки

### Tab 2
Контент второй вкладки
:::

---

Этот текст должен быть ПОСЛЕ селектора (выход по `---`)

## Случай 2: Заголовок того же уровня НЕ завершает селектор

:::selector{type="tabs" name="test2"}
### Tab A
Контент вкладки A

### Tab B
Контент вкладки B (заголовок того же уровня остаётся внутри)

### Tab C
И этот тоже внутри селектора
:::

---

Текст после селектора

## Случай 3: Выход по заголовку более высокого уровня

### Подраздел с селектором

:::selector{type="accordion" name="test3"}
#### Секция 1
Контент секции 1

#### Секция 2
Контент секции 2

#### Секция 3
Всё это внутри селектора
:::

## Заголовок выше (##) завершает селектор

Этот текст должен быть ПОСЛЕ селектора

## Случай 4: Вложенные селекторы

:::selector{type="tabs" name="outer"}
### Внешняя вкладка 1

Контент перед вложенным селектором

:::selector{type="accordion" name="inner"}
#### Внутренняя секция 1
Вложенный контент 1

#### Внутренняя секция 2
Вложенный контент 2
:::

Контент после вложенного селектора (всё ещё внутри внешнего)

### Внешняя вкладка 2

Контент второй внешней вкладки
:::

---

Текст после всех селекторов

## Случай 5: Заголовки внутри селектора

:::selector{type="tabs" name="test5"}
### Tab 1

#### Подзаголовок внутри вкладки
Этот заголовок (####) НЕ завершает селектор

##### Ещё более глубокий заголовок
Тоже внутри селектора

### Tab 2

Обычный контент
:::

# Заголовок H1 завершает селектор

Этот текст вне селектора (H1 выше, чем H2 где начался селектор)

## Случай 6: Селектор до конца документа

:::selector{type="accordion" name="test6"}
### Секция 1
Контент без явного маркера выхода

### Секция 2
Селектор продолжается до конца документа
:::
