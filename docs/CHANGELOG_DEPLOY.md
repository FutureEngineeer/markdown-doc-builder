# Changelog - Deployment Configuration

## 2025-12-01 - Настройка деплоя с нуля

### Изменения в GitHub Actions

**Файл:** `.github/workflows/build-and-deploy.yml`

#### Удалено:
- ❌ Кеширование репозиториев и ассетов
- ❌ Проверка изменений в репозиториях
- ❌ Параметр `force_rebuild` в workflow_dispatch

#### Добавлено:
- ✅ Автоматическая очистка перед каждой сборкой
- ✅ Шаг "Clean temporary files and cache"
- ✅ Удаление `.temp`, `temp`, `dist` перед сборкой

#### Результат:
Каждая сборка на GitHub Pages теперь происходит **с нуля**, гарантируя актуальность контента из GitHub репозиториев.

### Изменения в package.json

**Файл:** `package.json`

#### Добавлено:
```json
"clean": "node -e \"const fs=require('fs');['.temp','temp','dist'].forEach(d=>{try{fs.rmSync(d,{recursive:true,force:true});console.log('✓ Removed',d)}catch(e){}})\"",
"build:fresh": "npm run clean && npm run build:all"
```

#### Использование:
```bash
npm run clean        # Очистка временных файлов
npm run build:fresh  # Очистка + сборка
```

### Новая документация

#### Создано:
- `docs/GITHUB_PAGES_DEPLOY.md` - Полное руководство по деплою на GitHub Pages
- `docs/DEPLOYMENT_FIX.md` - Описание исправлений проблем с деплоем
- `docs/CHANGELOG_DEPLOY.md` - Этот файл

### Преимущества

1. **Гарантированная актуальность** - каждая сборка загружает свежие данные из репозиториев
2. **Отсутствие проблем с кешем** - нет устаревших данных
3. **Простота** - не нужно управлять кешем и проверять изменения
4. **Надежность** - предсказуемый результат каждой сборки

### Недостатки

1. **Время сборки** - каждая сборка занимает ~1-2 минуты (вместо ~30 секунд с кешем)
2. **Нагрузка на GitHub API** - каждая сборка скачивает репозитории заново

### Будущие улучшения

Когда проект стабилизируется, можно вернуть кеширование:
- Кешировать скачанные репозитории
- Проверять изменения через GitHub API
- Использовать инкрементальную сборку

## Дата изменений
1 декабря 2025
