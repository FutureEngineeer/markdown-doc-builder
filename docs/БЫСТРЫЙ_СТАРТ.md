# Быстрый старт - Генератор статических сайтов

## Как это работает

Система генерирует статический сайт из папки с markdown файлами и конфигурацией.

## Команда запуска

```bash
node build-all-v3.js <путь-к-папке-сайта>
```

**⚠️ Важно:** Аргумент с путем к папке обязателен!

## Примеры

```bash
# Сборка сайта из папки website
node build-all-v3.js website

# Сборка из другой папки
node build-all-v3.js my-site

# Через npm (использует website)
npm run build
```

## Что нужно в папке сайта

### 1. config.yaml - настройки сайта

```yaml
site:
  name: "Название"
  title: "Заголовок"
  description: "Описание"
  baseUrl: "https://example.com"
  language: "ru"

navigation:
  - text: "Главная"
    url: "index.html"

footer:
  copyright:
    line1: "Copyright © 2024"
    line2: "Ваше имя"
```

### 2. doc-config.yaml - структура меню

```yaml
hierarchy:
  - file: home.md
    title: "Главная"
    alias: home
  
  - file: docs.md
    title: "Документация"
    alias: docs
```

### 3. home.md - главная страница

```markdown
# Добро пожаловать

Это главная страница сайта.
```

## Результат

После выполнения команды в папке `dist/` появятся готовые HTML файлы:

```
dist/
├── index.html      # из home.md
├── docs.html       # из docs.md
├── assets/         # стили и скрипты
└── 404.html        # страница ошибки
```

## Создание нового сайта

```bash
# 1. Создайте папку
mkdir my-site

# 2. Добавьте файлы
cd my-site
# Создайте config.yaml, doc-config.yaml, home.md

# 3. Запустите сборку
cd ..
node build-all-v3.js my-site
```

## Добавление GitHub репозитория

В `doc-config.yaml`:

```yaml
hierarchy:
  - file: home.md
    title: "Главная"
  
  - repository: "https://github.com/user/repo"
    alias: "my-repo"
    title: "Мой репозиторий"
```

Система автоматически скачает markdown файлы из репозитория и добавит их на сайт.

## Секции и подразделы

```yaml
hierarchy:
  - file: home.md
    title: "Главная"
  
  - title: "Руководства"
    section: true
    children:
      - title: "Начало работы"
        folder: guides
      - title: "API"
        folder: api
```

## Игнорирование файлов

Файлы, которые не должны показываться в меню:

```yaml
hierarchy:
  - file: home.md
    title: "Главная"

ignored:
  - "README.md"
  - "CONTRIBUTING.md"
```

## Проверка результатов

После сборки проверьте:

1. **dist/** - готовые HTML файлы
2. **.temp/build-report.json** - отчет о сборке
3. **.temp/link-map.json** - карта ссылок
4. **.temp/hierarchy-info.json** - структура файлов

## Отладка

Если что-то не работает:

1. Проверьте наличие `config.yaml` в папке сайта
2. Проверьте наличие `doc-config.yaml` в папке сайта
3. Убедитесь, что пути к файлам в `hierarchy` правильные
4. Посмотрите логи в консоли
5. Проверьте `.temp/build-report.json` для деталей

## Примеры команд

```bash
# Сборка основного сайта
node build-all-v3.js website

# Сборка другого сайта
node build-all-v3.js docs-site

# Сборка с очисткой
npm run build:clean

# Сборка с оптимизацией
npm run build:optimized
```

## Структура проекта

```
project/
├── build-all-v3.js     # Скрипт сборки
├── package.json        # Конфигурация npm
├── components/         # Модули системы
├── assets/             # Общие ресурсы
├── website/            # Сайт #1
│   ├── config.yaml
│   ├── doc-config.yaml
│   └── home.md
└── docs-site/          # Сайт #2
    ├── config.yaml
    ├── doc-config.yaml
    └── home.md
```

## Полезные ссылки

- **BUILD_USAGE.md** - подробное руководство
- **EXAMPLE_SITE_STRUCTURE.md** - примеры структур
- **website/** - пример рабочего сайта

## Поддержка

При возникновении вопросов:
1. Изучите примеры в папке `website/`
2. Прочитайте `BUILD_USAGE.md`
3. Проверьте логи сборки
4. Посмотрите `.temp/build-report.json`
