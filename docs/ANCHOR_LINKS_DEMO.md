# 🎬 Демонстрация якорных ссылок

## Визуальная инструкция

### Шаг 1: Наведение курсора
```
┌─────────────────────────────────────┐
│  ## Быстрый старт              [#]  │  ← Символ # появляется
│                                     │
│  Инструкция по установке...         │
└─────────────────────────────────────┘
```

### Шаг 2: Клик на якорь
```
┌─────────────────────────────────────┐
│  ## Быстрый старт              [✓]  │  ← Символ меняется на ✓
│                                     │
│  ✅ Ссылка скопирована!             │
└─────────────────────────────────────┘

📋 Буфер обмена:
https://example.com/docs/guide.html#быстрый-старт
```

### Шаг 3: Обновление URL
```
Адресная строка браузера:
┌─────────────────────────────────────────────────────┐
│ 🔒 https://example.com/docs/guide.html#быстрый-старт│
└─────────────────────────────────────────────────────┘
```

### Шаг 4: Плавная прокрутка
```
Страница плавно прокручивается к выбранному разделу
↓
↓
↓
┌─────────────────────────────────────┐
│  ## Быстрый старт              [#]  │  ← Целевой раздел
│                                     │
│  Инструкция по установке...         │
└─────────────────────────────────────┘
```

## Примеры использования

### 1. Создание оглавления
```markdown
## Содержание

- [Введение](#введение)
- [Установка](#установка)
- [Настройка](#настройка)
- [Использование](#использование)
- [FAQ](#faq)
```

### 2. Ссылка из другой страницы
```html
<a href="guide.html#troubleshooting">
  Смотрите раздел "Решение проблем"
</a>
```

### 3. Ссылка в сообщении
```
Привет! Посмотри этот раздел документации:
https://docs.example.com/api.html#authentication

Там всё подробно описано.
```

### 4. Закладка в браузере
```
Название: API - Аутентификация
URL: https://docs.example.com/api.html#authentication
```

## Технические особенности

### Генерация ID
```javascript
// Пример преобразования заголовка в ID
"Быстрый старт" → "быстрый-старт"
"API Reference" → "api-reference"
"Что такое Docker?" → "что-такое-docker"
```

### Структура HTML
```html
<h2 id="быстрый-старт" class="section-title heading-with-anchor">
  Быстрый старт
  <a href="#быстрый-старт" 
     class="anchor-link" 
     aria-label="Ссылка на раздел" 
     title="Скопировать ссылку">
    #
  </a>
</h2>
```

### CSS анимация
```css
/* Якорь скрыт по умолчанию */
.anchor-link {
    opacity: 0;
    transition: opacity 0.3s ease;
}

/* Появляется при наведении на заголовок */
.heading-with-anchor:hover .anchor-link {
    opacity: 1;
}
```

### JavaScript функциональность
```javascript
// При клике на якорь:
1. Копирование в буфер обмена
   navigator.clipboard.writeText(fullUrl)

2. Обновление URL
   history.pushState(null, null, href)

3. Плавная прокрутка
   target.scrollIntoView({ behavior: 'smooth' })

4. Визуальное подтверждение
   link.textContent = '✓'
```

## Совместимость

| Браузер | Версия | Поддержка |
|---------|--------|-----------|
| Chrome | 63+ | ✅ Полная |
| Firefox | 53+ | ✅ Полная |
| Safari | 11.1+ | ✅ Полная |
| Edge | 79+ | ✅ Полная |
| iOS Safari | 11.3+ | ✅ Полная |
| Chrome Mobile | 63+ | ✅ Полная |

## Доступность (a11y)

### Поддержка скринридеров
```html
<a href="#section" 
   class="anchor-link" 
   aria-label="Ссылка на раздел"  ← Описание для скринридера
   title="Скопировать ссылку">    ← Подсказка при наведении
  #
</a>
```

### Навигация с клавиатуры
- `Tab` - переход к якорной ссылке
- `Enter` - активация ссылки
- Видимый outline при фокусе

### Семантика
- Использование правильных HTML тегов (`<a>`)
- Корректные ARIA атрибуты
- Логическая структура заголовков (H1 → H2 → H3)

## Тестирование

### Ручное тестирование
1. Откройте `test-anchors.html`
2. Наведите курсор на заголовок
3. Кликните на символ `#`
4. Проверьте буфер обмена (Ctrl+V)
5. Откройте ссылку в новой вкладке

### Автоматическое тестирование
```javascript
// Проверка наличия якорных ссылок
const anchors = document.querySelectorAll('.anchor-link');
console.assert(anchors.length > 0, 'Якорные ссылки найдены');

// Проверка генерации ID
const headings = document.querySelectorAll('h1, h2, h3, h4, h5, h6');
headings.forEach(h => {
  console.assert(h.id, `Заголовок "${h.textContent}" имеет ID`);
});
```

## Производительность

- ⚡ Минимальное влияние на загрузку страницы
- 🎯 Обработчики событий добавляются только один раз
- 💾 Нет дополнительных HTTP запросов
- 📦 Размер кода: ~2KB (JS + CSS)

## Будущие улучшения

- [ ] Анимация при прокрутке к якорю
- [ ] Подсветка активного раздела в навигации
- [ ] Кнопка "Поделиться" с выбором платформы
- [ ] История посещенных якорей
- [ ] Экспорт оглавления в Markdown
